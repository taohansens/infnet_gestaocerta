{"openapi":"3.0.1","info":{"title":"API Ponto Eletrônico","version":"v1"},"servers":[{"url":"http://localhost:8080/ponto/","description":"\"Ponto API Gateway URL\""}],"paths":{"/validar":{"post":{"tags":["validacao-ponto-controller"],"summary":"Validação de ponto pelo empregador.","operationId":"validarById","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidacaoPontoInsertDTO"}}},"required":true},"responses":{"400":{"description":"Ponto já validado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardError"}}}},"201":{"description":"Ponto validado com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ValidacaoPontoDTO"}}}}},"404":{"description":"Ponto não encontrado.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardError"}}}}}}},"/ponto/{empregadoId}/saida":{"post":{"tags":["ponto-eletronico-controller"],"summary":"Registro de saída de ponto para o funcionário.","operationId":"registrarSaida","parameters":[{"name":"empregadoId","in":"path","description":"Id de registro do empregado no banco de dados","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Existe uma saída registrada. Não é possível sair sem existir uma entrada registrada para o dia","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardError"}}}},"201":{"description":"Saída do ponto registrada com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PontoEletronicoMinDTO"}}}}},"404":{"description":"Empregado não encontrado.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardError"}}}}}}},"/ponto/{empregadoId}/entrada":{"post":{"tags":["ponto-eletronico-controller"],"summary":"Registro de entrada de ponto para o funcionário.","operationId":"registrarEntrada","parameters":[{"name":"empregadoId","in":"path","description":"Id de registro do empregado no banco de dados","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"Empregado não encontrado.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardError"}}}},"400":{"description":"Existe uma entrada registrada sem saída. Não é possível registrar duas entradas seguidas","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardError"}}}},"201":{"description":"Entrada do ponto registrada com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PontoEletronicoMinDTO"}}}}}}}},"/ponto/{empregadoId}":{"get":{"tags":["ponto-eletronico-controller"],"summary":"Retorna a lista de todos os pontos registrados para o ID do funcionário","operationId":"getAll","parameters":[{"name":"empregadoId","in":"path","description":"Id de cadastro do empregado doméstico","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Retorna a lista dos pontos, vazia ou não","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PontoEletronicoMinDTO"}}}}}}}},"/ponto/{empregadoId}/consulta":{"get":{"tags":["ponto-eletronico-controller"],"summary":"Retorna a lista dos pontos registrados para o funcionário para a data informada.","operationId":"getByDate","parameters":[{"name":"empregadoId","in":"path","description":"Id de cadastro do empregado doméstico","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"data","in":"query","description":"Data a ser consultada (dd/mm/aaaa)","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"Retorna a lista do registro de pontos para a data, vazia ou não","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PontoEletronicoMinDTO"}}}}}}}},"/ponto/consulta/{id}":{"get":{"tags":["ponto-eletronico-controller"],"summary":"Retorna o registro de ponto pelo Id","operationId":"getById","parameters":[{"name":"id","in":"path","description":"Id de registro do ponto do eletrônico no banco de dados","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Retorna o registro do ponto pelo ID informado","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PontoEletronicoMinDTO"}}}}},"404":{"description":"Registro de ponto não localizado","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardError"}}}}}}}},"components":{"schemas":{"ValidacaoPontoInsertDTO":{"type":"object","properties":{"pontoId":{"type":"integer","format":"int64"},"comentario":{"type":"string"},"codigoSituacao":{"type":"string"}}},"StandardError":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}}},"ValidacaoPontoDTO":{"type":"object","properties":{"id":{"type":"string"},"pontoEletronicoId":{"type":"string"},"empregadoId":{"type":"string"},"dataValidacao":{"type":"string"},"dataTrabalhada":{"type":"string"},"comentario":{"type":"string"},"codigoSituacao":{"type":"string"},"horasTrabalhadas":{"type":"string"},"horasExtras":{"type":"string"}}},"PontoEletronicoMinDTO":{"type":"object","properties":{"id":{"type":"string"},"data":{"type":"string"},"horaEntrada":{"type":"string"},"horaSaida":{"type":"string"},"horasTrabalhadas":{"type":"string"},"horasExtras":{"type":"string"}}}}}}